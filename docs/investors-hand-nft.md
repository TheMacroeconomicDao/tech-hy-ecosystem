# NFT-коллекция "Investor's Hand"

## Обзор

NFT-коллекция "Investor's Hand" представляет собой набор невзаимозаменяемых токенов (NFT), предоставляющих особые привилегии и преимущества в экосистеме VC/VG токенов на Solana. Эти NFT можно получить путем стейкинга VC токенов или приобрести на вторичном рынке, и они предоставляют держателям множество преимуществ, включая улучшение условий стейкинга VG токенов и доступ к высшим уровням DAO.

## Уровни NFT-коллекции "Investor's Hand"

Коллекция включает пять основных уровней, которые отражают различную степень приверженности проекту:

| Уровень NFT    | Описание                             | Множитель | Сокращение периода | Доступ к DAO         |
|----------------|--------------------------------------|-----------|-------------------|----------------------|
| Paper Hand     | Базовый уровень                      | 1.1x      | 10%               | -                    |
| Wooden Hand    | Начальный уровень                    | 1.25x     | 25%               | -                    |
| Steel Hand     | Средний уровень                      | 1.5x      | 50%               | Investor             |
| Titanium Hand  | Продвинутый уровень                  | 1.75x     | 75%               | Launchpad Master     |
| Diamond Hand   | Высший уровень                       | 2.0x      | 100%              | Partner              |

Кроме основных уровней, существует особый тип NFT:

| Особый NFT     | Описание                             | Преимущества                                       | Способ получения             |
|----------------|--------------------------------------|----------------------------------------------------|------------------------------|
| Angel Investor | Эксклюзивный статус для ранних инвесторов | Безлимитный период стейкинга, ежедневный автокомпаундинг | Участие в пресейле от 50 SOL |

## Способы получения NFT-бустеров

NFT-бустеры можно получить несколькими способами:

1. **Стейкинг VC токенов**:
   - Wooden Hand (стандартный уровень): стейкинг 1 млн VC на 90 дней
   - Paper Hand: специальные промо-акции или вознаграждения сообщества
   - Steel Hand: специальные достижения в экосистеме или вторичный рынок

2. **Специальное распределение**:
   - Titanium Hand: выпускается администрацией для крупных инвесторов
   - Diamond Hand: выпускается только для избранных партнеров проекта
   - Angel Investor: участники пресейла с вкладом от 50 SOL

3. **Вторичный рынок**:
   - Все NFT-бустеры (кроме Angel Investor) могут торговаться на маркетплейсах
   - При покупке NFT все его привилегии переходят новому владельцу

## Функциональные возможности

### Влияние на стейкинг VG токенов

Применение NFT-бустеров из коллекции "Investor's Hand" при стейкинге VG токенов обеспечивает:

1. **Сокращение периода стейкинга**:
   - Формула расчета: `Период = Базовый_период * (1 - Скидка_от_бустера)`
   - Пример: для Paper Hand (скидка 10%) базовый период 90 дней сокращается до 81 дня
   - Пример: для Diamond Hand (скидка 100%) базовый период сокращается до минимума (1 день)

2. **Доступ к высшим уровням DAO**:
   | Уровень DAO      | Требования VG токенов | Требуемый NFT   | Период стейкинга |
   |------------------|------------------------|-----------------|------------------|
   | Investor         | 25,000-50,000 VG       | Steel Hand+     | 365 дней         |
   | Launchpad Master | 50,000-70,000 VG       | Titanium Hand+  | 365 дней         |
   | Partner          | более 70,000 VG        | Diamond Hand    | 365 дней         |
   | Angel            | любое количество       | Angel NFT       | Безлимитный      |

3. **Автокомпаундинг стейкинга**:
   - Еженедельный автокомпаундинг для высших уровней (Investor, Launchpad Master, Partner)
   - Ежедневный автокомпаундинг для обладателей Angel Investor NFT

### Метаданные NFT

Каждый NFT содержит следующие метаданные:

```json
{
  "name": "[Уровень] Hand NFT #{id}",
  "symbol": "VCIH",
  "description": "NFT из коллекции Investor's Hand для экосистемы VC/VG",
  "image": "https://token-cdn.tech-hy.com/investors-hand/{level}/{id}.png",
  "attributes": [
    {
      "trait_type": "hand_tier",
      "value": "[Paper/Wooden/Steel/Titanium/Diamond]"
    },
    {
      "trait_type": "staked_vc_amount",
      "value": "1000000"
    },
    {
      "trait_type": "stake_timestamp",
      "value": "1650000000"
    },
    {
      "trait_type": "boost_multiplier",
      "value": "[110/125/150/175/200]"
    },
    {
      "trait_type": "dao_tier_access",
      "value": "[Community Member/Founder/Investor/Launchpad Master/Partner]"
    }
  ]
}
```

## Техническая архитектура

### Структуры данных

```rust
// Аккаунт NFT Investor's Hand
#[account]
pub struct InvestorsHandNft {
    pub owner: Pubkey,
    pub mint: Pubkey,
    pub level: u8, // 1-Paper, 2-Wooden, 3-Steel, 4-Titanium, 5-Diamond, 6-Angel
    pub staked_vc_amount: u64,
    pub stake_timestamp: i64,
    pub boost_multiplier: u8, // Умножено на 100 (110 = 1.1x, 125 = 1.25x и т.д.)
    pub is_used_for_staking: bool,
    pub vg_staking_account: Option<Pubkey>,
    pub created_by_authority: bool, // true для NFT, выпущенных администрацией
    pub bump: u8,
}

// Аккаунт состояния коллекции Investor's Hand
#[account]
pub struct InvestorsHandState {
    pub authority: Pubkey,
    pub total_paper_hands: u64,
    pub total_wooden_hands: u64,
    pub total_steel_hands: u64,
    pub total_titanium_hands: u64,
    pub total_diamond_hands: u64,
    pub total_angel_investors: u64,
    pub total_used_for_staking: u64,
    pub bump: u8,
}
```

### Инструкции

1. **Создание NFT через стейкинг VC токенов**
   ```rust
   pub fn mint_nft_via_staking(
       ctx: Context<MintNftViaStaking>,
   ) -> Result<()>
   ```

2. **Создание NFT администрацией (для Titanium, Diamond и Angel)**
   ```rust
   pub fn mint_admin_nft(
       ctx: Context<MintAdminNft>,
       level: u8,
       recipient: Pubkey,
       staked_amount: u64,
   ) -> Result<()>
   ```

3. **Применение NFT-бустера при стейкинге VG**
   ```rust
   pub fn apply_nft_to_vg_staking(
       ctx: Context<ApplyNftToVgStaking>,
       vg_staking_account: Pubkey,
   ) -> Result<()>
   ```

4. **Деактивация NFT-бустера**
   ```rust
   pub fn deactivate_nft(
       ctx: Context<DeactivateNft>,
   ) -> Result<()>
   ```

5. **Обновление состояния NFT**
   ```rust
   pub fn update_nft_state(
       ctx: Context<UpdateNftState>,
       is_used_for_staking: bool,
       vg_staking_account: Option<Pubkey>,
   ) -> Result<()>
   ```

## Интеграция с другими компонентами экосистемы

### Интеграция со стейкингом VC

1. **Процесс стейкинга VC и получения NFT**:
   - Пользователь блокирует 1 млн VC токенов на 90 дней
   - Автоматически генерируется NFT "Wooden Hand" (уровень 2)
   - NFT передается в кошелек пользователя

2. **После завершения периода стейкинга**:
   - Пользователь может вывести свои VC токены
   - NFT-бустер остается у пользователя и может использоваться для стейкинга VG

### Интеграция со стейкингом VG

1. **Применение NFT-бустера для стейкинга VG**:
   - Пользователь применяет NFT-бустер при стейкинге VG токенов
   - Период стейкинга сокращается в зависимости от множителя NFT
   - NFT отмечается как "используемый" и привязывается к аккаунту стейкинга VG

2. **После завершения стейкинга VG**:
   - NFT автоматически деактивируется и может быть использован снова
   - Если NFT был продан до завершения стейкинга, то период не меняется

### Интеграция с DAO

1. **Доступ к высшим уровням DAO**:
   - Steel Hand NFT (или выше) + 25,000-50,000 VG → уровень Investor
   - Titanium Hand NFT + 50,000-70,000 VG → уровень Launchpad Master
   - Diamond Hand NFT + более 70,000 VG → уровень Partner

2. **Проверка при регистрации в DAO**:
   - DAO проверяет владение необходимым NFT
   - DAO проверяет количество застейканных VG токенов
   - Присваивает соответствующий уровень в DAO

## Примеры применения NFT-бустеров

### Пример 1: Wooden Hand NFT (25% сокращение)

```
Входные данные:
- Уровень DAO: Expert (4000-25000 VG)
- Базовый период: 90 дней
- NFT-бустер: Wooden Hand (1.25x)

Расчет:
Новый период = 90 * (1 - 0.25) = 90 * 0.75 = 67.5 ≈ 68 дней
```

### Пример 2: Steel Hand NFT (50% сокращение)

```
Входные данные:
- Уровень DAO: Investor (25000-50000 VG)
- Базовый период: 365 дней
- NFT-бустер: Steel Hand (1.5x)

Расчет:
Новый период = 365 * (1 - 0.5) = 365 * 0.5 = 182.5 ≈ 183 дня
```

### Пример 3: Diamond Hand NFT (100% сокращение)

```
Входные данные:
- Уровень DAO: Partner (более 70000 VG)
- Базовый период: 365 дней
- NFT-бустер: Diamond Hand (2.0x)

Расчет:
Новый период = 365 * (1 - 1.0) = 0 дней
Применение минимального ограничения: 1 день
```

## Безопасность

### Ключевые аспекты безопасности

1. **Проверка подписи и полномочий**:
   - Проверка владельца NFT при всех операциях
   - Проверка полномочий администрации при создании специальных NFT

2. **Защита от дублирования**:
   - Предотвращение повторного использования одного NFT для множества стейкингов
   - Валидация уникальности метаданных

3. **Управление состояниями**:
   - Отслеживание используемых и неиспользуемых NFT
   - Проверка состояния NFT перед применением к стейкингу

## Пользовательский интерфейс

Веб-интерфейс для взаимодействия с NFT коллекцией "Investor's Hand" обеспечивает:

1. **Визуализацию NFT**:
   - Отображение всех NFT в коллекции пользователя
   - Просмотр подробной информации о каждом NFT и его статусе

2. **Управление NFT**:
   - Интерфейс для стейкинга VC токенов и получения NFT
   - Применение NFT-бустера к стейкингу VG
   - Передача NFT другим пользователям

3. **Интеграцию с маркетплейсами**:
   - Возможность выставления NFT на продажу
   - Просмотр истории продаж и текущей рыночной стоимости

## Преимущества для экосистемы

1. **Повышение привлекательности стейкинга VC**:
   - Создание дополнительной ценности через получение NFT
   - Стимулирование долгосрочной блокировки VC токенов

2. **Улучшение опыта стейкинга VG**:
   - Гибкая система сокращения периодов стейкинга
   - Прозрачная и понятная система множителей

3. **Ограничение доступа к высшим уровням DAO**:
   - Предотвращение атак Сивиллы через требование редких NFT
   - Обеспечение управления DAO опытными и долгосрочными участниками

4. **Создание вторичного рынка**:
   - Возможность продажи NFT создает новый уровень экономической активности
   - Повышение ликвидности и ценности NFT через время

## Связанные документы

- [Стейкинг VC токенов и NFT-бустеры](./04-vc-staking.md)
- [Стейкинг VG токенов](./05-vg-staking.md)
- [Формула расчета периода стейкинга VG](./specs/vg-staking-formula.md)
- [Governance и DAO](./07-governance.md)
- [Интеграция NFT-коллекции "Investor's Hand"](./specs/investors-hand-integration.md) 