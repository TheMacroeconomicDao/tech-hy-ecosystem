# Стейкинг VG токенов

## Обзор стейкинга VG токенов

Стейкинг VG токенов - это ключевой механизм участия в управлении экосистемой TECH HY, обеспечивающий доступ к различным уровням DAO. Период и условия стейкинга зависят от количества VG токенов и наличия NFT-бустеров из коллекции "Investor's Hand".

## Уровни стейкинга и DAO (тиры)

Экосистема TECH HY предусматривает прогрессивную, многоуровневую структуру участия в DAO, основанную на количестве застейканных VG токенов и длительности стейкинга:

| Уровень         | Требования                       | Период стейкинга |
|-----------------|----------------------------------|------------------|
| Starter         | до 100 VG                        | 7 дней           |
| Community Member| 100-500 VG                       | 14 дней          |
| Contributor     | 500-1500 VG                      | 30 дней          |
| Founder         | 1500-4000 VG                     | 60 дней          |
| Expert          | 4000-25000 VG                    | 90 дней          |
| Angel           | обладатель Angel Investor NFT    | Безлимитный      |
| Investor        | 25000-50000 VG + Steel Hand NFT  | 365 дней         |
| Launchpad Master| 50000-70000 VG + Titanium Hand   | 365 дней         |
| Partner         | более 70000 VG + Diamond Hand    | 365 дней         |

> Подробная информация о NFT-бустерах содержится в документах [NFT-коллекция "Investor's Hand"](./investors-hand-nft.md) и [Стейкинг VC токенов и NFT-бустеры](./04-vc-staking.md).

### Особенности стейкинга различных уровней

#### Starter и Community Member
- Автоматический анстейкинг после завершения периода
- Недоступен ранний анстейкинг
- Базовые права в экосистеме

#### Contributor
- Автоматический анстейкинг после 30 дней
- Возможность увеличивать размер стейка во время стейкинга
- Дополнительные бонусы: право на аирдропы и вознаграждения за активность
- Требования: верифицированный аккаунт X.com, подписка на @TECHHYVC, выполнение задач

#### Founder
- Период стейкинга: 60 дней
- Доступен ранний анстейкинг
- Право номинировать проекты для рассмотрения Инвестиционным комитетом

#### Expert
- Период стейкинга: 90 дней
- Ранний анстейкинг и повышение стейка
- Возможность минтить NFT для TECH HY Expert Marketplace

#### Высшие уровни (Investor, Launchpad Master, Partner)
- Длительный период стейкинга (365 дней)
- Необходимость владения соответствующими NFT из коллекции "Investor's Hand"
- Автокомпаундинг (еженедельный)
- Доступ к особым привилегиям и доходам экосистемы

#### Angel Investor
- Эксклюзивный статус с безлимитным периодом стейкинга
- Ежедневный автокомпаундинг
- Доступны все привилегии высших уровней

## Использование NFT-бустеров

- **Применение NFT-бустеров из коллекции "Investor's Hand"**:
  - Увеличивает эффективную долю пользователя при расчете вознаграждений
  - Примеры расчета:
    - Без NFT: стейк 100 VG → эффективная доля 100 VG
    - С Paper Hand (1.1x): стейк 100 VG → эффективная доля 110 VG
    - С Diamond Hand (2.0x): стейк 100 VG → эффективная доля 200 VG
  
- **Уровни NFT-бустеров**:
  | Уровень NFT    | Множитель | Эффективная доля | Необходимые условия                   |
  |----------------|-----------|------------------|---------------------------------------|
  | Paper Hand     | 1.1x      | +10%             | Промо-акции, награды сообщества       |
  | Wooden Hand    | 1.25x     | +25%             | Стейкинг 1 млн VC на 90 дней          |
  | Steel Hand     | 1.5x      | +50%             | Специальные достижения, покупка       |
  | Titanium Hand  | 1.75x     | +75%             | Выпуск для крупных инвесторов         |
  | Diamond Hand   | 2.0x      | +100%            | Выпуск для партнеров проекта          |
  | Angel Investor | 2.0x      | +100%            | Участие в пресейле от 50 SOL          |

## Основные характеристики стейкинга VG

- **Минимальное количество токенов для стейкинга**: 100 VG
- **Налог на транзакции VG**: 10%
- **Перераспределение налога**:
  - 50% для держателей NFT Fee Key
  - 30% для обратного выкупа и сжигания VC
  - 20% для казны DAO

## Процесс стейкинга VG токенов

### Шаги процесса

1. **Инициирование стейкинга**:
   - Пользователь вызывает функцию стейкинга с указанием количества VG токенов и опционально NFT-бустера
   - Проверяется наличие указанного количества VG токенов
   - При наличии NFT-бустера проверяется его владение и статус

2. **Определение периода стейкинга**:
   - Базовый период определяется согласно таблице уровней DAO
   - При наличии NFT-бустера активируется соответствующий бонус
   - Необходимые NFT проверяются для высших уровней

3. **Блокировка токенов**:
   - VG токены переводятся в хранилище (VG Staking Vault)
   - Токены блокируются на определенный период
   - Взимается налог 10%, который распределяется согласно правилам

4. **Определение условий анстейкинга**:
   - Для низших уровней настраивается автоматический анстейкинг
   - Для высших уровней (Founder и выше) доступен ранний анстейкинг
   - Для уровней Investor и выше настраивается автокомпаундинг

## Автоматическое реинвестирование

- **Автоматическое реинвестирование при стейкинге более 10,000 VG**:
  - 100% токенов реинвестируются автоматически
  - Доступно досрочное снятие стейка или его части

## Техническая реализация

### Структуры данных

В системе используются следующие основные структуры данных:

#### Аккаунт стейкинга VG токенов
Хранит информацию о конкретном стейкинге, включая:
- Владелец
- Заблокированная сумма
- Временная метка начала стейкинга
- Временная метка окончания блокировки
- Флаг наличия NFT-бустера
- Адрес NFT-бустера
- Флаг автоматического реинвестирования
- Сумма реинвестирования
- Сумма вывода
- Флаг разблокировки
- Бамп для PDA

#### Аккаунт статистики стейкинга VG токенов
Содержит общую статистику стейкинга VG токенов:
- Общая сумма застейканных токенов
- Общее количество стейкеров
- Количество стейкингов с NFT-бустерами
- Количество автоматических реинвестирований
- Бамп для PDA

### Определение периода стейкинга по тиру с учетом NFT-бустера

Алгоритм определения периода стейкинга включает:
- Расчет базового периода в зависимости от количества VG токенов
- Проверку на Angel NFT для безлимитного периода
- Применение мультипликатора доходности в зависимости от уровня NFT-бустера
- Обеспечение минимального периода стейкинга

### Функция стейкинга VG токенов с применением NFT-бустера

Основные этапы процесса стейкинга:
- Проверка минимального количества токенов
- Проверка баланса VG токенов с учетом налога
- Применение NFT-бустера (если указан)
- Определение периода стейкинга
- Проверка на автоматическое реинвестирование
- Перевод VG токенов в хранилище с учетом налога
- Распределение налога
- Инициализация аккаунта стейкинга
- Обновление статистики

### Функция вывода VG токенов и деактивации NFT-бустера

Основные этапы процесса вывода токенов:
- Проверка владельца аккаунта стейкинга
- Проверка окончания периода стейкинга
- Деактивация NFT-бустера (если был использован)
- Определение суммы для вывода
- Перевод VG токенов обратно пользователю с учетом налога
- Автоматическое реинвестирование (если активировано)
- Обновление статуса аккаунта стейкинга
- Обновление статистики

## Распределение налога

Налог в размере 10%, взимаемый при операциях с VG токенами, распределяется следующим образом:
- 50% для держателей NFT Fee Key
- 30% для обратного выкупа и сжигания VC
- 20% для казны DAO

Распределение осуществляется автоматически при каждой операции стейкинга или вывода VG токенов.

## Расчет доходности и вознаграждения

Доходность стейкинга VG токенов определяется несколькими факторами:
- Базовая доходность, определяемая общими параметрами программы стейкинга
- Мультипликатор от NFT-бустера (от 1.1x до 2.0x)
- Уровень DAO и связанные с ним привилегии
- Автоматическое реинвестирование для высоких уровней

## Взаимодействие с NFT-коллекцией "Investor's Hand"

Взаимодействие с NFT-коллекцией обеспечивается через следующие механизмы:
- Применение NFT-бустера при стейкинге VG
- Деактивация NFT-бустера при выводе токенов
- Проверка необходимого уровня NFT для высших уровней DAO

## Заключение

Система стейкинга VG токенов является фундаментальным компонентом экосистемы TECH HY, обеспечивающим:
- Многоуровневую структуру участия в DAO
- Интеграцию с NFT-коллекцией "Investor's Hand"
- Различные механизмы стимулирования долгосрочного хранения токенов
- Автоматическое распределение налога для поддержания экономики токенов

Дополнительная информация об интеграции с другими компонентами экосистемы представлена в следующих документах:
- [Формула расчета периода стейкинга VG токенов](./specs/vg-staking-formula.md)
- [NFT-коллекция "Investor's Hand"](./investors-hand-nft.md)
- [Интеграция NFT-коллекции "Investor's Hand"](./specs/investors-hand-integration.md)
- [Governance и DAO](./07-governance.md) 