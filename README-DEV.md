# Руководство разработчика TECH-HY SMARTS

Проект по разработке смарт-контрактов для экосистемы TECH-HY на блокчейне Solana.

## Установка и настройка

### Предварительные требования

- Операционная система: macOS, Linux или WSL для Windows
- Node.js (версия 14 или выше)
- Rust (последняя стабильная версия)
- Solana CLI (версия 1.18.1 или выше)
- Anchor Framework (последняя версия)

### Настройка среды разработки

Для автоматической настройки среды разработки выполните:

```bash
chmod +x setup-environment.sh
./setup-environment.sh
```

Скрипт выполнит следующие действия:
1. Установит Rust и Solana CLI (если они еще не установлены)
2. Установит Anchor Framework
3. Создаст структуру проекта и настроит конфигурацию
4. Установит необходимые зависимости

### Запуск тестовой среды

Для запуска тестовой среды выполните:

```bash
chmod +x run-test-environment.sh
./run-test-environment.sh
```

Скрипт выполнит следующие действия:
1. Запустит локальный валидатор Solana
2. Настроит конфигурацию для тестовой сети
3. Пополнит баланс тестового кошелька
4. Соберет программы (если они еще не собраны)
5. Запустит тесты для проверки среды

## Структура проекта

```
tech-hy-contracts/
├── programs/              # Программы Solana
│   ├── vc-token/          # Программа для VC токена
│   ├── vg-token/          # Программа для VG токена
│   ├── burn-and-earn/     # Механизм Burn and Earn
│   ├── vc-staking/        # Стейкинг VC токенов
│   ├── vg-staking/        # Стейкинг VG токенов
│   ├── nft-fee-key/       # NFT Fee Key
│   ├── governance/        # DAO/Governance
│   └── nft-investors-hand/ # NFT-коллекция Investor's Hand
├── app/                   # Клиентская часть
│   ├── frontend/          # UI
│   └── sdk/               # SDK для работы с контрактами
├── tests/                 # Тесты
│   ├── unit/              # Модульные тесты
│   └── integration/       # Интеграционные тесты
├── Anchor.toml            # Конфигурация Anchor
└── target/                # Сборка программ
    └── deploy/            # Собранные программы для деплоя
```

## Разработка

### Сборка программ

```bash
cd tech-hy-contracts
anchor build
```

### Запуск тестов

```bash
cd tech-hy-contracts
anchor test
```

### Деплой программ

Для тестовой сети:
```bash
cd tech-hy-contracts
anchor deploy --provider.cluster devnet
```

Для основной сети:
```bash
cd tech-hy-contracts
anchor deploy --provider.cluster mainnet
```

## План разработки

Полный план разработки смотрите в файле `/PRD/development-plan.md`

## Документация

- [Документация экосистемы](./README.md)
- [PRD и требования](./PRD.md)
- [План разработки](./PRD/development-plan.md)

## Решение проблем

### Ошибка при запуске тестового валидатора

Если тестовый валидатор не запускается, проверьте:
- Занят ли порт 8899 другим процессом
- Достаточно ли прав для запуска валидатора
- Логи в директории logs/validator.log

### Ошибка сборки программ

Если при сборке программ возникают ошибки:
- Проверьте версию Rust: `rustc --version`
- Проверьте, что Anchor установлен: `anchor --version`
- Проверьте наличие необходимых зависимостей: `cargo check` 